{"version":3,"sources":["component/searchbar/searchBar.js","component/mainnav/mainnav.js","component/result/result.js","component/carparkresult/carparkresult.js","component/myfooter/myfooter.js","App.js","index.js"],"names":["SearchBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","react_default","a","createElement","Fragment","className","onSubmit","onSubmitHandlerProps","placeholder","value","searchInputProps","onChange","onChangeHandlerProps","React","Component","mainNav","react_router_dom","to","onClick","resetAllProps","result","console","log","filterResultProps","addResults","map","carpark","index","key","address","checkAvailabiltyHandlerProps","carparkResult","getLatLong","bind","assertThisInitialized","initMap","renderMap","myLat","myLon","event","_this2","xyBaseURL","parseInt","singleCarParkProps","x_coord","y_coord","fetch","method","then","response","json","data","setState","latitude","longitude","url","window","document","getElementsByTagName","script","src","async","defer","parentNode","insertBefore","loadScript","myLatProps","myLonProps","google","maps","Map","getElementById","center","lat","lng","zoom","Marker","position","title","loading","keys","finalResultProps","length","singleCarPark","finalResult","carpark_info","lot_type","total_lots","lots_available","car_park_type","free_parking","type_of_parking_system","id","myFooter","messageProps","App","onChangeHandle","onSubmitHandler","checkAvailabiltyHandler","message","searchInput","searchDisplay","filterResult","carParks","target","preventDefault","reactThis","toLowerCase","records","filter","includes","undefined","catch","err","_this3","getMyDate","Date","toISOString","items","carpark_data","searchCarPark","carPark","carpark_number","car_park_no","prevent","default","_this4","basename","process","mainnav_mainnav","resetAll","react_router","from","exact","path","render","component_result_result","carparkresult_carparkresult","searchBar","myfooter_myfooter","ReactDOM","src_App_0"],"mappings":"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","file":"static/js/main.75603015.chunk.js","sourcesContent":["import React from 'react';\n// import result from '../result/result';\nimport './searchbar.css';\n\nclass SearchBar extends React.Component {\n    constructor(props){\n        super(props);\n\n        this.state = {\n\n        };\n\n    };\n\n    render() {\n\n        return(\n            <React.Fragment>\n                <div className=\"searchBar\">\n                    <form onSubmit={this.props.onSubmitHandlerProps} >\n                        <label>Search HDB Parking Availablity</label><br/>\n                        <input placeholder=\"Type in street name\" value={this.props.searchInputProps} onChange={this.props.onChangeHandlerProps}/>\n                        <button>Search</button>\n                    </form>\n                </div>\n            </React.Fragment>\n            )\n    }\n\n}\n\nexport default SearchBar;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './mainnav.css';\n\nclass mainNav extends React.Component {\n    // constructor(props){\n    //     super(props)\n\n    // };\n    render(){\n\n        return(\n        <header>\n            <nav className=\"navBarMain\" >\n            <ul>\n                <li>\n                    <NavLink to=\"/\" onClick={this.props.resetAllProps}>Home</NavLink>\n                </li>\n            </ul>\n            </nav>\n        </header>\n        )\n\n    }\n\n}\nexport default mainNav;","import React from 'react';\nimport './result.css';\n\nclass result extends React.Component {\n    // constructor(){\n    //   super();\n\n\n    // };\n    render() {\n         console.log(\"===FilterResult===\",this.props.filterResultProps);\n         //console.log(\"xxx result props xxx\",this.props.resultProps);\n         const addResults = this.props.filterResultProps.map((carpark, index)=>{\n            return  <React.Fragment><div key={index} className=\"searchResultList\"><p>Address: {carpark.address}</p><button className=\"resultBtn\" onClick={()=>this.props.checkAvailabiltyHandlerProps(carpark,index)}>Check Availablity</button></div></React.Fragment>\n         })\n        return (\n                <div>\n                    <h1 className=\"resultHeader\">Search Result</h1>\n                     {addResults}\n                </div>\n            );\n    }\n}\n\nexport default result;","import React from 'react';\n//import Googlemap from '../googlemap/googlemap';\n// import * as d3 from 'd3';\nimport './carparkresult.css';\n\nclass carparkResult extends React.Component {\n    constructor(props){\n        super(props);\n        this.getLatLong = this.getLatLong.bind( this );\n        this.initMap = this.initMap.bind( this );\n        this.renderMap = this.renderMap.bind( this );\n        this.state = {\n            myLat: null,\n            myLon: null\n        };\n    }\n\n\n    componentDidMount(){\n        this.getLatLong();\n\n    }\n\n    getLatLong(event){\n        var xCoord = parseInt(this.props.singleCarParkProps.x_coord);\n        var yCoord = parseInt(this.props.singleCarParkProps.y_coord);\n        const xyBaseURL = 'https://developers.onemap.sg/commonapi/convert/3414to4326?X=' + xCoord +'&Y=' + yCoord;\n        console.log(\"GETLATLONG\");\n        fetch(xyBaseURL,{\n            method:'GET',\n        })\n        .then((response)=>{\n            return response.json();\n        })\n        .then((data)=>{\n            var reactThis = this;\n            reactThis.setState({myLat: data.latitude, myLon: data.longitude});\n            //console.log(\"DATALATLON\",data);\n            console.log(\"MYLAT\",this.state.myLat);\n            console.log(\"MYLON\", this.state.myLon);\n            this.renderMap();\n        })\n    }\n    //renderMap\n    renderMap(){\n        loadScript(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCoyQTMWR5dEOWmtHhp6_4KIFfB4KkTTWU&callback=initMap\")\n        window.initMap = this.initMap;\n    }\n    //create map\n    initMap(){\n        console.log('initMapx',this.props.myLatProps);\n        console.log(\"initMapY\", this.props.myLonProps);\n        const map = new window.google.maps.Map(document.getElementById('map'), {\n          center: {lat: this.state.myLat, lng: this.state.myLon},\n          zoom: 18\n        });\n        const marker = new window.google.maps.Marker({\n          position: {lat: this.state.myLat, lng: this.state.myLon},\n          map: map,\n          title:this.props.singleCarParkProps.address,\n        });\n    }\n\n    render() {\n        let loading = <p>Loading...</p>;\n        if (Object.keys(this.props.finalResultProps).length < 1) {\n           return loading\n        } else {\n            loading = \"\"\n        }\n        console.log(\"singlecarpark\",this.props.singleCarParkProps)\n        console.log(this.props.finalResultProps,\"carparkresult\");\n        const singleCarPark = this.props.singleCarParkProps;\n        const finalResult = this.props.finalResultProps.map((carpark, index)=>{\n            return  <li key={index}><span className=\"titleHightlight\">Lot Type:</span> {carpark.carpark_info[0].lot_type}<br/><span className=\"titleHightlight\">Total Lot:</span> {carpark.carpark_info[0].total_lots} <br/><span className=\"titleHightlight\">Lot Available:</span> {carpark.carpark_info[0].lots_available}</li>\n         })\n        return(\n            <div className=\"carParkResult\">\n                {loading}\n                <h2>Car Park Search Result</h2>\n                <h3>{singleCarPark.address}</h3>\n                <p>\n                    <span className=\"titleHightlight\">Car Park Type:</span> {singleCarPark.car_park_type}<br/>\n                    <span className=\"titleHightlight\">Free Parking:</span>  {singleCarPark.free_parking}<br/>\n                    <span className=\"titleHightlight\">Parking System:</span> {singleCarPark.type_of_parking_system}\n                </p>\n                <ul>\n                    {finalResult}\n                </ul>\n                 <div id=\"map\"></div>\n             </div>\n            )\n    }\n}\n//load google api using function\nfunction loadScript(url){\n    //var index is to getElements of the first Sctipt tag\n    var index = window.document.getElementsByTagName(\"script\")[0];\n    //var script is to create a script tag\n    var script = window.document.createElement(\"script\");\n    //create a source\n    script.src = url;\n    script.async = true;\n    script.defer = true;\n    //select the index reference the first script tag, select the parent node and insert the script before it.\n    index.parentNode.insertBefore(script, index);\n\n}\n\nexport default carparkResult;","import React from 'react';\nimport './myfooter.css';\n\nclass myFooter extends React.Component {\n\n        render(){\n\n        return (\n                <div className=\"footerDiv\">\n                    <h3>{this.props.messageProps}</h3>\n                </div>\n            )\n    }\n\n}\n\nexport default myFooter;","import React, { Component } from 'react';\nimport SearchBar from './component/searchbar/searchBar';\nimport MainNav from './component/mainnav/mainnav';\nimport Result from './component/result/result';\nimport CarParkResult from './component/carparkresult/carparkresult'\nimport Myfooter from './component/myfooter/myfooter';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\n// import logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n    constructor(props){\n        super(props);\n        this.onChangeHandle = this.onChangeHandle.bind( this );\n        this.onSubmitHandler =  this.onSubmitHandler.bind( this );\n        this.checkAvailabiltyHandler = this.checkAvailabiltyHandler.bind( this );\n        this.state = {\n            message:'',\n            searchInput:'',\n            searchDisplay: false,\n            result:[ ],\n            filterResult:[ ],\n            carParks:[ ],\n            finalResult:[ ],\n            singleCarPark: null,\n        }\n\n    };\n\n    onChangeHandle(event){\n        //console.log(\"HALO\",event.target.value);\n        this.setState({searchInput: event.target.value});\n        // console.log(\"STATE\",this.state.searchInput);\n    };\n\n    onSubmitHandler(event){\n      event.preventDefault();\n      var reactThis = this;\n      //fetch api\n      console.log(\"onSubmitHandler\", this.state.searchInput);\n      const baseUrl = 'https://data.gov.sg/api/action/datastore_search?resource_id=139a3035-e624-4f56-b63f-89ae28d4ae4c&q='\n      fetch (baseUrl + this.state.searchInput.toLowerCase())\n        .then((response)=> {\n          return response.json()\n        })\n        .then((data)=> {\n          console.log(\"FETCH\",data.result.records);\n          //filter the api\n          reactThis.setState({result: data.result.records, searchDisplay: false});\n          const results = this.state.result;\n          //console.log(\"xxxxx\",myResults[0].address);\n          const filterResult = results.filter( result => {\n            return result.address.toLowerCase().includes(this.state.searchInput.toLowerCase());\n          });\n\n            if(filterResult.length < 1 || filterResult === undefined){\n                reactThis.setState({message: 'Address Not Found, Please Try Again.'});\n            } else {\n                //setState of result\n                reactThis.setState({filterResult: filterResult, searchDisplay: true, message:''});\n                console.log(\"AFTER FILTER\",this.state.filterResult);\n            };\n\n        }).catch((err)=>{\n            console.log(err)\n            reactThis.setState({message: err })\n        });\n    }\n\n    checkAvailabiltyHandler(carpark,index){\n        this.setState({singleCarPark: carpark});\n        //get the real time api\n        var reactThis = this\n        //YYYY-MM-DD[T]HH:mm:ss (+8:00)\n        const getMyDate =  new Date().toISOString();\n        console.log(\"mydate\", getMyDate);\n        const baseCarparkAvailableURL = 'https://api.data.gov.sg/v1/transport/carpark-availability?' + getMyDate;\n        //console.log(baseCarparkAvailableURL);\n\n        fetch (baseCarparkAvailableURL,{\n            method:'GET',\n            // mode: \"cors\",\n            // headers:{\n            //     'Content-Type':'application/json',\n            // },\n        })\n        .then((response)=> {\n          return response.json();\n        })\n        .then((data)=>{\n            console.log(\"===\",data.items[0].carpark_data);\n            reactThis.setState({carParks: data.items[0].carpark_data});\n            const carParks = this.state.carParks;\n            const searchCarPark = carParks.filter( carPark => {\n                return carPark.carpark_number === carpark.car_park_no;\n            });\n            if (searchCarPark.length < 1 || searchCarPark === undefined){\n              reactThis.setState({message: 'Car Park Not Found, Try Searching Again'})\n            } else {\n              reactThis.setState({finalResult: searchCarPark, message: ''})\n            };\n\n            console.log(\"SearchCarPark\",searchCarPark)\n            console.log(\"Check Availabilty index\", index, carpark.car_park_no);\n               //search for the carpark ID from the availablitiy api\n        })\n        .catch((err)=>{\n          console.log(err)\n        });\n\n    }\n\n    resetAll(event){\n        event.prevent.default()\n        //to reset state\n        this.setState({\n                message: '',\n                searchDisplay: false,\n                result:[ ],\n                filterResult:[ ],\n                carParks:[ ],\n                finalResult:[ ],\n                singleCarPark: null, })\n    }\n\n  render() {\n    return (\n      <div className=\"App\">\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n          {this.state.searchDisplay && <MainNav resetAllProps={this.resetAll}/>}\n          <main>\n            <Switch>\n\n              {Object.keys(this.state.finalResult).length !== 0 && <Redirect from=\"/result\" to= \"/carparkresult\" exact />}\n\n              {!this.state.searchDisplay && <Redirect from=\"/result\" to=\"/\" exact/>}\n\n              {this.state.searchDisplay && <Redirect from=\"/\" to=\"/result\" exact />}\n\n              <Route exact path=\"/result\" render = {()=>(<Result\n                                                            filterResultProps={this.state.filterResult}\n                                                            checkAvailabiltyHandlerProps={this.checkAvailabiltyHandler}/>)}/>\n\n              <Route exact path=\"/carparkresult\"\n                      render = {()=>(<CarParkResult\n                                        finalResultProps={this.state.finalResult}\n                                        singleCarParkProps={this.state.singleCarPark}\n                                        />)}/>\n              <Route exact path=\"/\"\n                     render = {()=>(<SearchBar\n                                        onChangeHandlerProps={this.onChangeHandle}\n                                        searchInputProps={this.state.searchInput}\n                                        onSubmitHandlerProps={this.onSubmitHandler}/>)}/>\n            </Switch>\n          </main>\n          <Myfooter messageProps = {this.state.message}/>\n      </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();"],"sourceRoot":""}